
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
    
    <div class="row">
      <div class="col-12 col-md-8">
        <div class="card card-primary card-outline ">
          <div class="card-body">
            <div class="row">
              <h5 class="mb-3">Transfers</h5>
              <div class="col-sm-12">
                <div id="example2_wrapper" class="dataTables_wrapper dt-bootstrap4">
                    <div class="row">
                        
                            <table id="example2" class="table  table-striped table-hover" role="grid"
                                aria-describedby="example2_info">
                                <thead class="">
                                    <tr role="row">
                                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                            aria-label="Browser: activate to sort column ascending">ID</th>
                                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                            aria-label="Browser: activate to sort column ascending">Date</th>
                                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                            aria-label="Browser: activate to sort column ascending">From</th>
                                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                            aria-label="Browser: activate to sort column ascending">To</th>
                                            
                                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                            aria-label="Browser: activate to sort column ascending">Amount</th>
                                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                            aria-label="Browser: activate to sort column ascending">Status</th>
                                        
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for a in transfer %}
                                    </tr>
                                    <tr role="row" class="odd">
                                        <td>{{ a.id }}</td>
                                        <td>{{ a.transaction_date}}</td>
                                        <td>{{a.fromaccount_code.sub_code }} -- {{a.fromaccount_code.sub_description}}</td>
                                        <td>{{a.toaccount_code.sub_code }} -- {{a.toaccount_code.sub_description}}</td>
                                        <td>{{a.amount }}</td>
                                        <td>
                                            {% if a.status == "Pending" %}
                                                   <span class="badge badge-pill badge-warning">{{a.status}}</span>
                                                {% elif a.status == "Comfirmed" %}
                                                    <span class="badge badge-pill badge-info">{{a.status}}</span>
                                                {% else %}
                                                    <span class="badge badge-pill badge-info">{{a.status}}</span>
                                            {% endif %}
                                        </td>
                                       
                                        
                                        
                                            
                                       

                                    
                                    </tr>
    
                                    {% endfor %}
    
                                </tbody>
    
                            </table>
                        
                    </div>
                </div>
              </div>


            </div>
           
            
          </div>
        </div>

        <div class="card card-primary card-outline">
            <div class="card-body">
             
              <div class="row">
                  <h5 class="mb-3">Members</h5>
                  <div id="example3_wrapper" class="dataTables_wrapper dt-bootstrap4">
                      <div class="row">
                          <div class="col-sm-12">
                              <table id="example3" class="table  table-striped table-hover" role="grid"
                                  aria-describedby="example2_info">
                                  <thead class="">
                                      <tr role="row">
      
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="Browser: activate to sort column ascending"> ID</th>
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="Browser: activate to sort column ascending">Name</th>
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="Browser: activate to sort column ascending">D.O.B</th>
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="Browser: activate to sort column ascending">Address</th>
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="Browser: activate to sort column ascending">Contact</th>
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="Browser: activate to sort column ascending">Church</th>
      
                                          <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1"
                                              aria-label="CSS grade: activate to sort column ascending">Action</th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                      {% for a in all_members %}
                                      </tr>
                                      <tr role="row" class="odd">
                                          <td>{{ a.member.id}}</td>
                                          <td>
      
                                              {% if a.member.surname %}
                                                  {{ a.member.surname }}
                                              {% endif %}
      
                                              {% if a.member.first_name %}
                                                  {{ a.member.first_name }}
                                              {% endif %}
      
                                              {% if a.member.other_name %}
                                                  {{ a.member.other_name }}
                                              {% endif %}
      
                                          </td>
                                          <td>{{ a.member.dob}}</td>
                                          <td>{{ a.member.address }}</td>
                                          <td>{{ a.member.contact }}</td>
                                          <td>{{ a.church.church_name }}</td>
      
      
                                          <td>
                                              <a class="btn btn-sm btn-outline-primary"
                                                  href="{% url 'church:profile' a.member.id %}">View</a>
      
                                            
                                          </td>
                                      </tr>
      
                                      {% endfor %}
      
                                  </tbody>
      
                              </table>
                          </div>
                      </div>
                  </div>
      
              </div>
              
            </div>
          </div>

      </div>
      <div class="col-12 col-md-4 ">
        <div class="col-12 col-md-12">
            <div class="info-box">
              <span class="info-box-icon bg-info elevation-1"
                ><i class="ion ion-stats-bars"></i
              ></span>
      
              <div class="info-box-content">
                <span class="info-box-text">Current Open Balance</span>
                <span class="info-box-number"> GH&#8373 {{open_balace}} </span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          {% for a in cash_eq %}
          <div class="col-12 col-md-12">
            <div class="info-box">
              <span class="info-box-icon bg-warning elevation-1"
                ><i class="ion ion-stats-bars"></i
              ></span>
      
              <div class="info-box-content">
                <span class="info-box-text">{{a.sub_description}}</span>
                <span class="info-box-number"> GH&#8373 {{a.total}} </span>
              </div>
              <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
          </div>
          {% endfor %}


          <div class="card card-primary card-outline mt-4 pt-4">
            <div class="card-body">
              <div class="row">
                <h5>Quaterly Reports</h5>
                <div class="col-sm-12">
                  <table
                    id="example5"
                    class="table table-striped table-hover"
                    role="grid"
                    aria-describedby="example2_info"
                  >
                    <thead class="">
                      <tr role="row">
                        <th
                          class="sorting"
                          tabindex="0"
                          aria-controls="example2"
                          rowspan="1"
                          colspan="1"
                          aria-label="Browser: activate to sort column ascending"
                        >
                          Id
                        </th>
      
                        <th
                          class="sorting"
                          tabindex="0"
                          aria-controls="example2"
                          rowspan="1"
                          colspan="1"
                          aria-label="Browser: activate to sort column ascending"
                        >
                          Description
                        </th>
                        <th
                          class="sorting"
                          tabindex="0"
                          aria-controls="example2"
                          rowspan="1"
                          colspan="1"
                          aria-label="Browser: activate to sort column ascending"
                        >
                          Action
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for a in accounting_year %}
      
                      <tr role="row" class="odd">
                        <td>{{ a.id}}</td>
                        <td>{{ a.description}}</td>
                        <td>
                          
                          {% if a.status == 'Closed' %}
                          <a class="btn btn-sm btn-outline-primary"
                          href="{% url 'accounts:statement_of_accounts' a.id %}">View</a> 
                          {% endif %}
                            
                        
                        </td>
                      </tr>
      
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script> -->
    
   
    
    {% endblock %}
    